<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Onur Alp Ergüven — minimal portfolio"/>
  <title>Onur Alp Ergüven | Portfolio</title>
  <link rel="stylesheet" href="style.css"/>
</head>

<body>
  <div class="page-bg" aria-hidden="true"></div>

  <!-- HERO -->
  <header class="hero" id="top">
    <div class="watermark" aria-hidden="true">ONUR ALP</div>

    <nav class="nav">
      <a class="brand" href="#top">OnurAlpErgvn</a>

      <div class="nav-links">
        <a class="nav-link" href="#projects">Projects</a>
        <a class="nav-link" href="#pjatk">PJATK</a>
        <a class="nav-link" href="#acun">AcunMedyaAkademi</a>
        <a class="nav-link" href="#contact">Contact</a>
      </div>
    </nav>

    <div class="hero-inner">
      <h1>Always curious,<br/>always learning.</h1>

      <p class="subtitle">
        I’m <strong>Onur Alp Ergüven</strong>, a Computer Engineering student.
        I build clean, practical projects in <strong>C++</strong>, <strong>Java</strong> and <strong>SQL</strong>.
      </p>

      <p class="location">Located in <strong>Warsaw, Poland</strong></p>

      <div class="meta">
        <span class="pill">C++</span>
        <span class="pill">Java</span>
        <span class="pill">SQL</span>
        <span class="pill">Linux</span>
        <span class="pill">Git</span>
      </div>

      <div class="cta">
        <a class="btn" href="https://github.com/OnurAlpErgvn" target="_blank" rel="noreferrer">GitHub</a>
        <a class="btn ghost" href="https://www.linkedin.com/in/onur-alp-erg%C3%BCven-405b12336" target="_blank" rel="noreferrer">LinkedIn</a>
        <a class="btn ghost" href="#" data-coming-soon="true">Resume</a>
      </div>

      <a class="scrollhint" href="#projects">Scroll ↓</a>
    </div>
  </header>

  <main class="container">

    <!-- PROJECTS -->
    <section id="projects" class="section">
      <div class="section-head">
        <div>
          <h2>Projects</h2>
          <p>Selected work — focused on fundamentals, structure, and clarity.</p>
        </div>

        <div class="controls">
          <button class="icon-btn" id="prev" aria-label="Previous"><span aria-hidden="true">‹</span></button>
          <button class="icon-btn" id="next" aria-label="Next"><span aria-hidden="true">›</span></button>
        </div>
      </div>

      <div class="carousel" id="carousel" tabindex="0" aria-label="Project list">

        <!-- MonkeyTyper -->
        <article class="card project"
          data-title="MonkeyTyper"
          data-tag="C++ · SFML"
          data-desc="Typing game with difficulty, timer, scoring and file-based high scores."
          data-stack="C++, SFML, OOP, File I/O"
          data-built="Difficulty system, timer & scoring, word spawner, file-based high scores, clean structure"
          data-learned="Game loop thinking, state management, input handling, clean separation of responsibilities"
          data-screens="assets/thumbs/monkeytyper.png,assets/thumbs/monkeytyper.png,assets/thumbs/monkeytyper.png"
          data-repo="#"
        >
          <div class="thumb">
            <img src="assets/thumbs/monkeytyper.png" alt="MonkeyTyper thumbnail">
          </div>
          <div class="card-body">
            <div class="tag">C++ · SFML</div>
            <h3>MonkeyTyper</h3>
            <p>Typing game with difficulty, timer, scoring and file-based high scores.</p>
            <div class="card-links">
              <a href="#" data-coming-soon="true">View repo</a>
              <span class="dot">•</span>
              <a href="#" class="open-modal">Details</a>
            </div>
          </div>
        </article>

        <!-- Pacman -->
        <article class="card project"
          data-title="Pacman"
          data-tag="Java · Swing"
          data-desc="Swing-only Pacman with menu, board selection, upgrades, and thread-based animation."
          data-stack="Java, Swing, Threads, OOP"
          data-built="Modern menu, labyrinth & dots, upgrades, real-time score/life/timer, pause menu"
          data-learned="Thread-based animation, game states, UI structure, event handling"
          data-screens="assets/thumbs/pacman.png,assets/thumbs/pacman.png,assets/thumbs/pacman.png"
          data-repo="#"
        >
          <div class="thumb">
            <img src="assets/thumbs/pacman.png" alt="Pacman thumbnail">
          </div>
          <div class="card-body">
            <div class="tag">Java · Swing</div>
            <h3>Pacman</h3>
            <p>Swing-only Pacman with menu, board selection, upgrades, and thread-based animation.</p>
            <div class="card-links">
              <a href="#" data-coming-soon="true">View repo</a>
              <span class="dot">•</span>
              <a href="#" class="open-modal">Details</a>
            </div>
          </div>
        </article>

        <!-- CarBorrowing -->
        <article class="card project"
          data-title="CarBorrowing"
          data-tag="SQL · Database"
          data-desc="Schema design & queries for a car borrowing system — constraints, reports, integrity."
          data-stack="SQL, Relational Design"
          data-built="Schema design, constraints, reports/queries, integrity rules"
          data-learned="Practical SQL modeling, thinking in relationships, constraints-first design"
          data-screens="assets/thumbs/carborrowing.png,assets/thumbs/carborrowing.png,assets/thumbs/carborrowing.png"
          data-repo="#"
        >
          <div class="thumb">
            <img src="assets/thumbs/carborrowing.png" alt="CarBorrowing thumbnail">
          </div>
          <div class="card-body">
            <div class="tag">SQL · Database</div>
            <h3>CarBorrowing</h3>
            <p>Schema design & queries for a car borrowing system — constraints, reports, integrity.</p>
            <div class="card-links">
              <a href="#" data-coming-soon="true">View repo</a>
              <span class="dot">•</span>
              <a href="#" class="open-modal">Details</a>
            </div>
          </div>
        </article>

      </div>

      <div class="hint">Tip: You can scroll horizontally, or use the arrows.</div>
    </section>

    <!-- PJATK -->
    <section id="pjatk" class="section">
      <div class="section-head">
        <div>
          <h2>PJATK</h2>
          <p>General university projects — clean structure, short notes, and consistent naming.</p>
        </div>
      </div>

      <div class="grid two">
        <article class="card compact">
          <div class="card-body">
            <div class="tag">University</div>
            <h3>Projects</h3>
            <p>All PJATK work in one place. Repos will be added gradually.</p>
            <div class="card-links">
              <a href="#" data-coming-soon="true">Coming soon</a>
            </div>
          </div>
        </article>

        <article class="card compact">
          <div class="card-body">
            <div class="tag">Notes</div>
            <h3>Documentation</h3>
            <p>Small write-ups and diagrams for quick understanding.</p>
            <div class="card-links">
              <a href="#" data-coming-soon="true">Coming soon</a>
            </div>
          </div>
        </article>
      </div>
    </section>

    <!-- ACUN -->
    <section id="acun" class="section">
      <div class="section-head">
        <div>
          <h2>AcunMedyaAkademi</h2>
          <p>Program work — Java exercises and projects, structured and presentable.</p>
        </div>
      </div>

      <div class="grid two">
        <article class="card compact">
          <div class="card-body">
            <div class="tag">Java</div>
            <h3>Repository</h3>
            <p>Exercises and projects from the program.</p>
            <div class="card-links">
              <a href="https://github.com/OnurAlpErgvn/AcunMedyaAkademi" target="_blank" rel="noreferrer">Open repo</a>
            </div>
          </div>
        </article>

        <article class="card compact">
          <div class="card-body">
            <div class="tag">Highlights</div>
            <h3>Best work</h3>
            <p>A short selection of the most meaningful parts (will be curated).</p>
            <div class="card-links">
              <a href="#" data-coming-soon="true">Coming soon</a>
            </div>
          </div>
        </article>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="section">
      <div class="section-head">
        <div>
          <h2>Contact</h2>
          <p>Simple ways to reach me.</p>
        </div>
      </div>

      <div class="contact">
        <div class="contact-row">
          <span class="label">GitHub</span>
          <div class="contact-right">
            <a href="https://github.com/OnurAlpErgvn" target="_blank" rel="noreferrer">github.com/OnurAlpErgvn</a>
            <button class="copy-btn" data-copy="https://github.com/OnurAlpErgvn" aria-label="Copy GitHub link">Copy</button>
          </div>
        </div>

        <div class="contact-row">
          <span class="label">Email</span>
          <div class="contact-right">
            <a href="mailto:onuralperguven@gmail.com">onuralperguven@gmail.com</a>
            <button class="copy-btn" data-copy="onuralperguven@gmail.com" aria-label="Copy email">Copy</button>
          </div>
        </div>

        <div class="contact-row">
          <span class="label">LinkedIn</span>
          <div class="contact-right">
            <a href="https://www.linkedin.com/in/onur-alp-erg%C3%BCven-405b12336" target="_blank" rel="noreferrer">linkedin.com/in/onur-alp-ergüven</a>
            <button class="copy-btn" data-copy="https://www.linkedin.com/in/onur-alp-erg%C3%BCven-405b12336" aria-label="Copy LinkedIn link">Copy</button>
          </div>
        </div>
      </div>

      <footer class="footer">
        <span>© <span id="y"></span> Onur Alp Ergüven</span>
        <span class="sep">—</span>
        <span>Minimal, monochrome, clean.</span>
      </footer>
    </section>

  </main>

  <!-- Toast -->
  <div id="toast" class="toast" role="status" aria-live="polite" aria-atomic="true">
    <div class="toast-inner">
      <div class="toast-title" id="toastTitle">Coming soon</div>
      <div class="toast-text" id="toastText">This link will be available once the repo is ready.</div>
    </div>
  </div>

  <!-- MODAL -->
  <div class="modal" id="modal" aria-hidden="true">
    <div class="modal-backdrop" data-close="true"></div>

    <div class="modal-panel" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <button class="modal-close" id="modalClose" aria-label="Close">×</button>

      <div class="modal-hero">
        <div class="modal-slider" id="slider" aria-label="Project images">
          <div class="slider-track" id="sliderTrack"></div>

          <button class="slider-btn left" id="slidePrev" aria-label="Previous image">‹</button>
          <button class="slider-btn right" id="slideNext" aria-label="Next image">›</button>

          <div class="slider-dots" id="sliderDots" aria-label="Image navigation"></div>
        </div>
      </div>

      <div class="modal-body">
        <div class="modal-top">
          <div class="modal-tag" id="modalTag"></div>
          <h3 class="modal-title" id="modalTitle"></h3>
          <p class="modal-desc" id="modalDesc"></p>
        </div>

        <div class="modal-grid">
          <div class="modal-box">
            <div class="modal-label">Stack</div>
            <div class="modal-text" id="modalStack"></div>
          </div>

          <div class="modal-box">
            <div class="modal-label">What I built</div>
            <div class="modal-text" id="modalBuilt"></div>
          </div>

          <div class="modal-box">
            <div class="modal-label">What I learned</div>
            <div class="modal-text" id="modalLearned"></div>
          </div>
        </div>

        <div class="modal-actions">
          <a class="btn ghost" id="modalRepo" href="#" data-coming-soon="true">View repo</a>
          <a class="btn" href="#contact">Contact</a>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Year
    document.getElementById("y").textContent = new Date().getFullYear();

    // Toast
    const toast = document.getElementById("toast");
    const toastTitle = document.getElementById("toastTitle");
    const toastText = document.getElementById("toastText");
    let toastTimer = null;

    function showToast(title, text) {
      toastTitle.textContent = title || "Coming soon";
      toastText.textContent = text || "This link will be available once the repo is ready.";
      toast.classList.add("show");
      clearTimeout(toastTimer);
      toastTimer = setTimeout(() => toast.classList.remove("show"), 2000);
    }

    document.addEventListener("click", (e) => {
      const a = e.target.closest('a[data-coming-soon="true"]');
      if (!a) return;
      e.preventDefault();
      showToast("Coming soon", "This link will be available once the repo is ready.");
    });

    // Carousel arrows
    const carousel = document.getElementById("carousel");
    const prev = document.getElementById("prev");
    const next = document.getElementById("next");

    function scrollByCard(dir) {
      const card = carousel.querySelector(".card");
      const gap = 18;
      const amount = (card ? card.getBoundingClientRect().width : 320) + gap;
      carousel.scrollBy({ left: dir * amount, behavior: "smooth" });
    }
    if (prev && next && carousel) {
      prev.addEventListener("click", () => scrollByCard(-1));
      next.addEventListener("click", () => scrollByCard(1));
    }

    // Modal + Slider
    const modal = document.getElementById("modal");
    const modalClose = document.getElementById("modalClose");
    const modalTag = document.getElementById("modalTag");
    const modalTitle = document.getElementById("modalTitle");
    const modalDesc = document.getElementById("modalDesc");
    const modalStack = document.getElementById("modalStack");
    const modalBuilt = document.getElementById("modalBuilt");
    const modalLearned = document.getElementById("modalLearned");
    const modalRepo = document.getElementById("modalRepo");

    const sliderTrack = document.getElementById("sliderTrack");
    const sliderDots = document.getElementById("sliderDots");
    const slidePrev = document.getElementById("slidePrev");
    const slideNext = document.getElementById("slideNext");

    let lastFocus = null;
    let slides = [];
    let slideIndex = 0;

    function parseScreens(str) {
      if (!str) return [];
      return str.split(",").map(s => s.trim()).filter(Boolean);
    }

    function buildSlider(urls, title) {
      slides = urls.length ? urls : [];
      slideIndex = 0;

      sliderTrack.innerHTML = "";
      sliderDots.innerHTML = "";

      slides.forEach((src, i) => {
        const slide = document.createElement("div");
        slide.className = "slide";
        const img = document.createElement("img");
        img.src = src;
        img.alt = (title || "Project") + " image " + (i + 1);
        slide.appendChild(img);
        sliderTrack.appendChild(slide);

        const dot = document.createElement("button");
        dot.type = "button";
        dot.className = "dot-btn";
        dot.setAttribute("aria-label", "Go to image " + (i + 1));
        dot.addEventListener("click", () => setSlide(i));
        sliderDots.appendChild(dot);
      });

      setSlide(0);
    }

    function setSlide(i) {
      if (!slides.length) return;
      slideIndex = Math.max(0, Math.min(i, slides.length - 1));
      sliderTrack.style.transform = "translateX(" + (-slideIndex * 100) + "%)";

      const dots = sliderDots.querySelectorAll(".dot-btn");
      dots.forEach((d, idx) => d.classList.toggle("active", idx === slideIndex));

      const multi = slides.length > 1;
      slidePrev.disabled = !multi;
      slideNext.disabled = !multi;
    }

    function prevSlide() { setSlide(slideIndex - 1); }
    function nextSlide() { setSlide(slideIndex + 1); }

    slidePrev.addEventListener("click", (e) => { e.preventDefault(); prevSlide(); });
    slideNext.addEventListener("click", (e) => { e.preventDefault(); nextSlide(); });

    function openModal(projectEl) {
      if (!projectEl) return;

      lastFocus = document.activeElement;

      const title = projectEl.dataset.title || "";
      const tag = projectEl.dataset.tag || "";
      const desc = projectEl.dataset.desc || "";
      const stack = projectEl.dataset.stack || "";
      const built = projectEl.dataset.built || "";
      const learned = projectEl.dataset.learned || "";
      const repo = projectEl.dataset.repo || "#";
      const screens = parseScreens(projectEl.dataset.screens);

      modalTag.textContent = tag;
      modalTitle.textContent = title;
      modalDesc.textContent = desc;
      modalStack.textContent = stack;
      modalBuilt.textContent = built;
      modalLearned.textContent = learned;

      // Repo link: eğer hazır değilse coming-soon kalsın
      modalRepo.href = repo || "#";
      if (!repo || repo === "#") {
        modalRepo.setAttribute("data-coming-soon", "true");
      } else {
        modalRepo.removeAttribute("data-coming-soon");
      }

      buildSlider(screens, title);

      modal.classList.add("show");
      modal.setAttribute("aria-hidden", "false");
      document.body.classList.add("no-scroll");
      modalClose.focus();
    }

    function closeModal() {
      modal.classList.remove("show");
      modal.setAttribute("aria-hidden", "true");
      document.body.classList.remove("no-scroll");
      if (lastFocus) lastFocus.focus();
    }

    // Click behavior:
    // - Details link => modal
    // - Card body (non-link) => modal
    // - View repo => link (modal açma)
    document.addEventListener("click", (e) => {
      // Details link
      const details = e.target.closest(".open-modal");
      if (details) {
        e.preventDefault();
        const project = details.closest(".project");
        openModal(project);
        return;
      }

      // Card click (but ignore actual links/buttons)
      const card = e.target.closest(".project");
      if (card) {
        const isOnLink = !!e.target.closest("a");
        const isOnButton = !!e.target.closest("button");
        if (!isOnLink && !isOnButton) {
          openModal(card);
          return;
        }
      }

      // Close via backdrop
      const closeHit = e.target.closest("[data-close='true']");
      if (closeHit) closeModal();
    });

    modalClose.addEventListener("click", closeModal);

    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") {
        toast.classList.remove("show");
        if (modal.classList.contains("show")) closeModal();
      }
      if (!modal.classList.contains("show")) return;

      if (e.key === "ArrowLeft") prevSlide();
      if (e.key === "ArrowRight") nextSlide();
    });

    // Active nav link
    const sections = document.querySelectorAll("main section[id], header#top");
    const navLinks = document.querySelectorAll(".nav-link");

    function setActive(id) {
      navLinks.forEach(a => a.classList.toggle("active", a.getAttribute("href") === "#" + id));
    }

    const observer = new IntersectionObserver((entries) => {
      const visible = entries.filter(e => e.isIntersecting).sort((a,b)=>b.intersectionRatio-a.intersectionRatio)[0];
      if (!visible) return;
      const id = visible.target.id;
      if (id && id !== "top") setActive(id);
    }, { rootMargin: "-40% 0px -55% 0px", threshold: [0.1,0.2,0.3,0.4,0.5] });

    sections.forEach(s => { if (s.id) observer.observe(s); });

    // Copy buttons
    async function copyText(text) {
      try {
        await navigator.clipboard.writeText(text);
        showToast("Copied", text);
      } catch {
        const ta = document.createElement("textarea");
        ta.value = text;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand("copy");
        ta.remove();
        showToast("Copied", text);
      }
    }

    document.addEventListener("click", (e) => {
      const c = e.target.closest(".copy-btn");
      if (!c) return;
      const t = c.getAttribute("data-copy") || "";
      copyText(t);
    });
  </script>

</body>
</html>
